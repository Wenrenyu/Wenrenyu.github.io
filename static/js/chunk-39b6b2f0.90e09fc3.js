(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39b6b2f0"],{"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"634a":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"search_box"},[a("div",{staticClass:"search_title"},[t._v("订单查找")]),a("div",{staticClass:"search_content"},[a("div",[a("span",[t._v("订单单号:")]),a("el-input",{staticStyle:{width:"400px",margin:"20px 10px"},attrs:{type:"input",placeholder:"输入查询单号"},model:{value:t.search.order_no,callback:function(e){t.$set(t.search,"order_no",e)},expression:"search.order_no"}})],1),a("div",[a("span",[t._v("支付流水号:")]),a("el-input",{staticStyle:{width:"400px",margin:"20px 10px"},attrs:{type:"input",placeholder:"输入支付流水号"},model:{value:t.search.trade_no,callback:function(e){t.$set(t.search,"trade_no",e)},expression:"search.trade_no"}})],1),a("div",{staticClass:"search_btn"},[a("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:t._search,expression:"_search"}],attrs:{type:"primary"}},[t._v("查找")]),a("el-button",{directives:[{name:"debounce",rawName:"v-debounce",value:t._reset,expression:"_reset"}],attrs:{type:"danger"}},[t._v("重置")])],1)])]),t._m(0),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{prop:"order_no",label:"单号"}}),a("el-table-column",{attrs:{prop:"user.name",label:"用户"}}),a("el-table-column",{attrs:{prop:"amount",label:"金额"}}),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[1===e.row.status?a("el-tag",{attrs:{type:"danger"}},[t._v("下单")]):2===e.row.status?a("el-tag",{attrs:{type:"success"}},[t._v("支付")]):3===e.row.status?a("el-tag",{attrs:{type:"warning"}},[t._v("发货")]):4===e.row.status?a("el-tag",{attrs:{type:""}},[t._v("收货")]):5===e.row.status?a("el-tag",{attrs:{type:"info"}},[t._v("过期")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"pay_time",label:"支付时间"}}),a("el-table-column",{attrs:{prop:"pay_type",label:"支付类型"},scopedSlots:t._u([{key:"default",fn:function(e){return["aliyun"===e.row.pay_type?a("span",[t._v("支付宝")]):t._e(),"wechat"===e.row.pay_type?a("span",[t._v("微信")]):t._e()]}}])}),a("el-table-column",{attrs:{prop:"trade_no",label:"支付流水"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{margin:"8px"},attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.handleDeatil(e.$index,e.row)}}},[t._v("详情")]),a("el-button",{staticStyle:{margin:"8px"},attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDeliver(e.$index,e.row)}}},[t._v("发货")])]}}])})],1),a("div",{staticClass:"block",staticStyle:{margin:"20px",width:"100%","text-align":"center"}},[a("el-pagination",{attrs:{background:"","current-page":t.pageCurrent,"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"update:currentPage":function(e){t.pageCurrent=e},"update:current-page":function(e){t.pageCurrent=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t.detailShow?a("detail",{attrs:{"is-show":t.detailShow,list:t.detailContent},on:{onClose:t.onClose}}):t._e(),t.dilverShow?a("deliver",{attrs:{"is-show":t.dilverShow,"order-id":t.orderId},on:{onLoad:t.onLoad,onClose:t.onCloseDliver}}):t._e()],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-box"},[a("div",{staticClass:"title"},[t._v("订单列表")])])}],s=a("5530"),i=(a("ac1f"),a("841c"),a("62e4")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"订单详情",visible:t.visible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.visible=e}}},t._l(t.dataList.goods.data,(function(e,r){return a("div",{key:e.id,staticClass:"card"},[a("div",{staticClass:"card-img"},[a("img",{attrs:{src:e.cover_url,alt:"",width:"100%",height:"100%"}})]),a("div",{staticClass:"cardContent"},[a("p",{staticClass:"cardContent-title"},[t._v(t._s(e.title))]),a("p",{staticClass:"cardContent-price"},[t._v("单价："+t._s(e.price))]),a("p",{staticClass:"cardContent-num"},[t._v("数量："+t._s(t.dataList.orderDetails.data[r].num))]),a("p",{staticClass:"cardContent-amount"},[t._v("总价："+t._s(t.dataList.amount))])])])})),0)},l=[],c={name:"OrderDetail",props:{isShow:{type:Boolean,default:!1},list:{type:Object,require:!0}},data:function(){return{visible:this.isShow,dataList:this.list}},methods:{handleClose:function(){this.visible=!1,this.$emit("onClose",this.visible)}}},u=c,d=(a("e2da"),a("2877")),p=Object(d["a"])(u,o,l,!1,null,null,null),h=p.exports,f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"发货",visible:t.visible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.visible=e}}},[a("el-form",{ref:"ruleForm",attrs:{model:t.formData,rules:t.rules}},[a("el-form-item",{attrs:{label:"快递单号","label-width":t.formLabelWidth,prop:"express_no"}},[a("el-input",{model:{value:t.formData.express_no,callback:function(e){t.$set(t.formData,"express_no",t._n(e))},expression:"formData.express_no"}})],1),a("el-form-item",{attrs:{label:"快递类型","label-width":t.formLabelWidth,prop:"express_type"}},[a("el-select",{attrs:{placeholder:"选择快递"},model:{value:t.formData.express_type,callback:function(e){t.$set(t.formData,"express_type",e)},expression:"formData.express_type"}},[a("el-option",{attrs:{label:"顺丰",value:"SF"}}),a("el-option",{attrs:{label:"圆通",value:"YD"}}),a("el-option",{attrs:{label:"韵达",value:"YTO"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.handleClose}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1)},v=[],_=(a("a9e3"),{name:"Deliver",props:{isShow:{type:Boolean,default:!1},orderId:{type:String,require:!0}},data:function(){return{formLabelWidth:"80px",formData:{express_no:"",express_type:""},rules:{express_no:[{required:!0,message:"请输入快递号",trigger:"blur"},{type:"number",message:"请输入正确的快递号",trigger:"blur",transform:function(t){return Number(t)}}],express_type:[{required:!0,message:"请选择快递",trigger:"change"}]},visible:this.isShow}},methods:{handleClose:function(){this.visible=!1,this.$emit("onClose",this.visible)},handleSend:function(){console.log(this.formData)},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;Object(i["u"])(e.orderId,e.formData).then((function(t){e.success("成功发货"),e.handleClose(),e.$emit("onLoad")}))}))}}}),b=_,m=Object(d["a"])(b,f,v,!1,null,null,null),g=m.exports,C={name:"Order",components:{detail:h,deliver:g},data:function(){return{list:[],page:1,pageCurrent:1,total:0,detailShow:!1,dilverShow:!1,detailContent:"",orderId:"",search:{order_no:"",trade_no:""}}},mounted:function(){this.getData()},methods:{getData:function(t){var e=this,a={current:this.page};""===this.search.order_no&&""===this.search.trade_no||(a=Object(s["a"])({},this.search)),Object(i["v"])(a).then((function(a){e.list=a.data,e.total=a.meta.pagination.total_pages,t&&t(a)}))},handleSizeChange:function(t){console.log(t)},handleCurrentChange:function(t){this.page=t,this.getData(),console.log(t,5555)},handleDeatil:function(t,e){this.detailShow=!0,this.detailContent=JSON.parse(JSON.stringify(e))},handleDeliver:function(t,e){2===e.status?(this.dilverShow=!0,this.orderId=e.id):this.warning("无法发货")},onClose:function(t){this.detailShow=!1},onCloseDliver:function(){this.dilverShow=!1},onLoad:function(){this.getData()},_search:function(){var t=this;if(""===this.search.order_no&&""===this.search.trade_no)return this.warning("请输入单号"),!1;this.getData((function(e){0===e.data.length?t.success("无对应单号"):t.success("查找成功")}))},_reset:function(){this.search={order_no:"",trade_no:""},this.page=1,this.getData()}}},w=C,y=(a("9a2b"),Object(d["a"])(w,r,n,!1,null,null,null));e["default"]=y.exports},"7c28":function(t,e,a){},"841c":function(t,e,a){"use strict";var r=a("d784"),n=a("825a"),s=a("1d80"),i=a("129f"),o=a("14c3");r("search",1,(function(t,e,a){return[function(e){var a=s(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,a):new RegExp(e)[t](String(a))},function(t){var r=a(e,t,this);if(r.done)return r.value;var s=n(t),l=String(this),c=s.lastIndex;i(c,0)||(s.lastIndex=0);var u=o(s,l);return i(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]}))},9350:function(t,e,a){},"9a2b":function(t,e,a){"use strict";a("7c28")},a9e3:function(t,e,a){"use strict";var r=a("83ab"),n=a("da84"),s=a("94ca"),i=a("6eeb"),o=a("5135"),l=a("c6b6"),c=a("7156"),u=a("c04e"),d=a("d039"),p=a("7c73"),h=a("241c").f,f=a("06cf").f,v=a("9bf2").f,_=a("58a8").trim,b="Number",m=n[b],g=m.prototype,C=l(p(g))==b,w=function(t){var e,a,r,n,s,i,o,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=_(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+c}for(s=c.slice(2),i=s.length,o=0;o<i;o++)if(l=s.charCodeAt(o),l<48||l>n)return NaN;return parseInt(s,r)}return+c};if(s(b,!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var y,x=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof x&&(C?d((function(){g.valueOf.call(a)})):l(a)!=b)?c(new m(w(e)),a,x):w(e)},S=r?h(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;S.length>I;I++)o(m,y=S[I])&&!o(x,y)&&v(x,y,f(m,y));x.prototype=g,g.constructor=x,i(n,b,x)}},e2da:function(t,e,a){"use strict";a("9350")}}]);